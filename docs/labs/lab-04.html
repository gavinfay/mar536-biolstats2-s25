<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.5.56">

  <meta name="dcterms.date" content="2025-02-12">
  <title>MAR 536 - Spring 2025 – MAR 536: Lab 4</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-drop/drop-runtime.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="../site_libs/countdown-0.4.0/countdown.css" rel="stylesheet">
  <script src="../site_libs/countdown-0.4.0/countdown.js"></script>
<meta property="og:title" content="MAR 536: Lab 4 – MAR 536 - Spring 2025">
<meta property="og:description" content="Gavin Fay">
<meta property="og:site_name" content="MAR 536 - Spring 2025">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">MAR 536: Lab 4</h1>
  <p class="subtitle">Gavin Fay</p>

<div class="quarto-title-authors">
</div>

  <p class="date">2025-02-12</p>
</section>
<section id="lab-schedule" class="slide level2">
<h2>Lab schedule</h2>
<p>1/22: Introduction to R and R Studio, working with data<br>
1/29: Visualizing data<br>
2/05: Probability, linear modeling<br>
<strong>2/12: Data wrangling, model summaries</strong><br>
2/19: Simulation, Resampling<br>
2/26: Iteration<br>
3/19: Creating functions, debugging<br>
4/02: working with Spatial data 4/09: Flex: automated reporting &amp; Quarto<br>
</p>
<p><strong>Acknowledgements: Mine Çetinkaya-Rundel, Allison Horst</strong></p>
</section>
<section id="today" class="slide level2">
<h2>Today</h2>
<p>Topics</p>
<ul>
<li>Poisson GLM</li>
<li>Programming Practices</li>
<li>Data wrangling</li>
</ul>
</section>
<section id="setup" class="slide level2">
<h2>setup</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a></a><span class="fu">library</span>(broom)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a><span class="co">#first read in the data (richness already created)</span></span>
<span id="cb2-2"><a></a>RIKZ <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"../data/RIKZ.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="generalized-linear-modeling" class="slide level2">
<h2>Generalized linear modeling</h2>
<p>All GLMs have the following three characteristics:</p>
<ol type="1">
<li>A probability distribution describing a generative model for the outcome variable.</li>
</ol>
<div class="fragment">
<ol start="2" type="1">
<li>A linear model:<br>
<span class="math display">\[\eta = \beta_0 + \beta_1 X_1 + \cdots + \beta_k X_k\]</span></li>
</ol>
</div>
<div class="fragment">
<ol start="3" type="1">
<li>A link function that relates the linear model to the parameter of the outcome distribution.</li>
</ol>
</div>
</section>
<section id="generalized-linear-modeling-1" class="slide level2">
<h2>Generalized linear modeling</h2>
<p>Recall from lecture: <span class="math display">\[\eta = \beta_1 x_1 + \beta_2 x_2 + \dots + \beta_p x_p\]</span> <span class="math display">\[f_Y(y;\mu,\varphi) = \exp\left[\frac{A}{\varphi}{y\lambda(\mu)-\gamma(\lambda(\mu))}+\tau(y,\varphi)\right]\]</span> <span class="math display">\[\mu = m(\eta) \text{,    } \eta = m^{-1}(\mu)=l(\mu)\]</span></p>
<p>The combination of a response distribution, a link function and other information needed to carry out the modeling exercise is called the <em>family</em> of the generalized linear model.</p>

<img data-src="figs/families.png" class="r-stretch"></section>
<section id="the-glm-function" class="slide level2 smaller">
<h2>The <code>glm()</code> function</h2>
<p>The <code>R</code> function to fit a generalized linear model is <code>glm()</code> which uses the form:<br>
<code>fitted.model &lt;- glm(formula, family=family.generator, data=data.frame)</code></p>
<p>Only new piece is the call to ‘family.generator’<br>
Although complex, its use is fairly simple.<br>
Where there is a choice of link, link can be supplied with the family name as a parameter.</p>
<p>Simple (inefficient) use: The following are equivalent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a><span class="sc">&gt;</span> RIKZ_lm1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(Richness <span class="sc">~</span> NAP, <span class="at">data =</span> RIKZ)</span>
<span id="cb3-2"><a></a><span class="sc">&gt;</span> RIKZ_glm1 <span class="ot">&lt;-</span> <span class="fu">glm</span>(Richness <span class="sc">~</span> NAP, <span class="at">family =</span> gaussian, </span>
<span id="cb3-3"><a></a><span class="sc">+</span>                  <span class="at">data =</span> RIKZ)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Most of the extraction functions that can be applied to <code>lm()</code> can also be used with <code>glm()</code>.</p>
</section>
<section id="the-glm-function-1" class="slide level2 smaller">
<h2>The <code>glm()</code> function</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="sc">&gt;</span> <span class="fu">tidy</span>(RIKZ_lm1)</span>
<span id="cb4-2"><a></a><span class="co"># A tibble: 2 × 5</span></span>
<span id="cb4-3"><a></a>  term        estimate std.error statistic  p.value</span>
<span id="cb4-4"><a></a>  <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>          <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>     <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>     <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>    <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb4-5"><a></a><span class="dv">1</span> (Intercept)     <span class="fl">6.69</span>     <span class="fl">0.658</span>     <span class="fl">10.2</span>  <span class="fl">5.25e-13</span></span>
<span id="cb4-6"><a></a><span class="dv">2</span> NAP            <span class="sc">-</span><span class="fl">2.87</span>     <span class="fl">0.631</span>     <span class="sc">-</span><span class="fl">4.55</span> <span class="fl">4.42</span>e<span class="sc">-</span> <span class="dv">5</span></span>
<span id="cb4-7"><a></a><span class="sc">&gt;</span> <span class="fu">tidy</span>(RIKZ_glm1)</span>
<span id="cb4-8"><a></a><span class="co"># A tibble: 2 × 5</span></span>
<span id="cb4-9"><a></a>  term        estimate std.error statistic  p.value</span>
<span id="cb4-10"><a></a>  <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>          <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>     <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>     <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>    <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb4-11"><a></a><span class="dv">1</span> (Intercept)     <span class="fl">6.69</span>     <span class="fl">0.658</span>     <span class="fl">10.2</span>  <span class="fl">5.25e-13</span></span>
<span id="cb4-12"><a></a><span class="dv">2</span> NAP            <span class="sc">-</span><span class="fl">2.87</span>     <span class="fl">0.631</span>     <span class="sc">-</span><span class="fl">4.55</span> <span class="fl">4.42</span>e<span class="sc">-</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="poisson-regression" class="slide level2">
<h2>Poisson regression</h2>
<p><span class="math display">\[P(X=x) = \frac{e^{-\mu} \mu^x}{x!} \text{,   } \mu_i = e^{\alpha+\beta_1 x_{1,i} + \dots + \beta_j x_{j,i}}\]</span></p>

<img data-src="figs/lespoissons.png" class="r-stretch"></section>
<section id="rikz-example" class="slide level2">
<h2>RIKZ example</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a></a><span class="sc">&gt;</span> <span class="co">#fit the poisson regression model</span></span>
<span id="cb5-2"><a></a><span class="er">&gt;</span> RIKZ_poisson <span class="ot">&lt;-</span> <span class="fu">glm</span>(Richness <span class="sc">~</span> NAP, <span class="at">data =</span> RIKZ, </span>
<span id="cb5-3"><a></a><span class="sc">+</span>                     <span class="at">family =</span> poisson)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that the default link for the poisson is <code>log</code> so we don’t have to specify here (see <code>?family</code>).</p>
</section>
<section id="summaryrikz_poisson" class="slide level2 smaller">
<h2><code>summary(RIKZ_poisson)</code></h2>
<div class="cell">
<pre><code>
Call:
glm(formula = Richness ~ NAP, family = poisson, data = RIKZ)

Coefficients:
            Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)  1.79100    0.06329  28.297  &lt; 2e-16 ***
NAP         -0.55597    0.07163  -7.762 8.39e-15 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for poisson family taken to be 1)

    Null deviance: 179.75  on 44  degrees of freedom
Residual deviance: 113.18  on 43  degrees of freedom
AIC: 259.18

Number of Fisher Scoring iterations: 5</code></pre>
</div>
</section>
<section id="broomaugment" class="slide level2 small">
<h2><code>broom::augment()</code></h2>
<p>As with <code>lm()</code>, the <code>augment()</code> function can be used to obtain the predictions from a fitted model object, and for a new data frame.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a><span class="sc">&gt;</span> newobject <span class="ot">&lt;-</span> <span class="fu">augment</span>(oldobject, newdata, </span>
<span id="cb7-2"><a></a><span class="sc">+</span>                      <span class="at">type.predict =</span> <span class="fu">c</span>(<span class="st">"link"</span>,<span class="st">"response"</span>,<span class="st">"terms"</span>),</span>
<span id="cb7-3"><a></a><span class="sc">+</span>                      <span class="at">se_fit =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note: default for <code>type.predict</code> is on the scale of the linear predictors. Set to <code>"response"</code> to obtain predictions on the scale of the response variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a><span class="fu">augment</span>(RIKZ_poisson, <span class="at">se_fit =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 45 × 9
   Richness    NAP .fitted .se.fit .resid   .hat .sigma .cooksd .std.resid
      &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;      &lt;dbl&gt;
 1       11  0.045    1.77  0.0639  1.90  0.0239   1.61 0.0569       1.92 
 2       10 -1.04     2.37  0.0896 -0.206 0.0856   1.64 0.00213     -0.215
 3       13 -1.34     2.53  0.106   0.112 0.142    1.64 0.00122      0.121
 4       11  0.616    1.45  0.0827  2.72  0.0291   1.59 0.165        2.76 
 5       10 -0.684    2.17  0.0737  0.406 0.0476   1.64 0.00453      0.416
 6        8  1.19     1.13  0.114   2.32  0.0401   1.60 0.170        2.37 
 7        9  0.82     1.34  0.0929  2.26  0.0328   1.60 0.125        2.30 
 8        8  0.635    1.44  0.0836  1.64  0.0294   1.62 0.0532       1.66 
 9       19  0.061    1.76  0.0641  4.33  0.0238   1.50 0.376        4.38 
10       17 -1.33     2.53  0.106   1.18  0.141    1.63 0.148        1.27 
# ℹ 35 more rows</code></pre>
</div>
</div>
</section>
<section id="observed-and-fitted-values-for-poisson-rikz" class="slide level2 smaller">
<h2>Observed and fitted values for Poisson RIKZ</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a><span class="co">#create new values for beach height</span></span>
<span id="cb10-2"><a></a>new_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">NAP =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="fl">2.5</span>,<span class="at">length.out=</span><span class="dv">100</span>))</span>
<span id="cb10-3"><a></a><span class="co">#predict values for response based on new salinity</span></span>
<span id="cb10-4"><a></a>RIKZ_pois_pred <span class="ot">&lt;-</span> <span class="fu">augment</span>(RIKZ_poisson,</span>
<span id="cb10-5"><a></a>                    <span class="at">newdata =</span> new_data, </span>
<span id="cb10-6"><a></a>                    <span class="at">type.predict =</span> <span class="st">"response"</span>,</span>
<span id="cb10-7"><a></a>                    <span class="at">se_fit =</span> <span class="st">"TRUE"</span>)</span>
<span id="cb10-8"><a></a>RIKZ_pois_pred</span>
<span id="cb10-9"><a></a><span class="co"># A tibble: 100 × 3</span></span>
<span id="cb10-10"><a></a>     NAP .fitted .se.fit</span>
<span id="cb10-11"><a></a>   <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span>   <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>   <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb10-12"><a></a> <span class="dv">1</span> <span class="sc">-</span><span class="fl">1.5</span>     <span class="fl">13.8</span>    <span class="fl">1.60</span></span>
<span id="cb10-13"><a></a> <span class="dv">2</span> <span class="sc">-</span><span class="fl">1.46</span>    <span class="fl">13.5</span>    <span class="fl">1.53</span></span>
<span id="cb10-14"><a></a> <span class="dv">3</span> <span class="sc">-</span><span class="fl">1.42</span>    <span class="fl">13.2</span>    <span class="fl">1.46</span></span>
<span id="cb10-15"><a></a> <span class="dv">4</span> <span class="sc">-</span><span class="fl">1.38</span>    <span class="fl">12.9</span>    <span class="fl">1.40</span></span>
<span id="cb10-16"><a></a> <span class="dv">5</span> <span class="sc">-</span><span class="fl">1.34</span>    <span class="fl">12.6</span>    <span class="fl">1.34</span></span>
<span id="cb10-17"><a></a> <span class="dv">6</span> <span class="sc">-</span><span class="fl">1.30</span>    <span class="fl">12.3</span>    <span class="fl">1.28</span></span>
<span id="cb10-18"><a></a> <span class="dv">7</span> <span class="sc">-</span><span class="fl">1.26</span>    <span class="fl">12.1</span>    <span class="fl">1.23</span></span>
<span id="cb10-19"><a></a> <span class="dv">8</span> <span class="sc">-</span><span class="fl">1.22</span>    <span class="fl">11.8</span>    <span class="fl">1.17</span></span>
<span id="cb10-20"><a></a> <span class="dv">9</span> <span class="sc">-</span><span class="fl">1.18</span>    <span class="fl">11.5</span>    <span class="fl">1.12</span></span>
<span id="cb10-21"><a></a><span class="dv">10</span> <span class="sc">-</span><span class="fl">1.14</span>    <span class="fl">11.3</span>    <span class="fl">1.07</span></span>
<span id="cb10-22"><a></a><span class="co"># ℹ 90 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a><span class="fu">ggplot</span>(RIKZ, <span class="fu">aes</span>(<span class="at">x=</span>NAP, <span class="at">y=</span> Richness)) <span class="sc">+</span></span>
<span id="cb11-2"><a></a>         <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb11-3"><a></a>         <span class="fu">geom_line</span>(<span class="at">data =</span> RIKZ_pois_pred,</span>
<span id="cb11-4"><a></a>                   <span class="fu">aes</span>(<span class="at">x=</span>NAP, <span class="at">y =</span> .fitted),</span>
<span id="cb11-5"><a></a>                   <span class="at">col =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb11-6"><a></a>         <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Richness"</span>, <span class="at">x =</span> <span class="st">"NAP"</span>) <span class="sc">+</span></span>
<span id="cb11-7"><a></a>         <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">25</span>) <span class="sc">+</span> <span class="fu">xlim</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="fl">2.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section>
<section id="" class="slide level2 output-location-slide"><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="lab-04_files/figure-revealjs/unnamed-chunk-10-1.png" width="960"></p>
</figure>
</div>
</div>
</div></section><section id="fitting-the-glm-in-the-ggplot-call" class="slide level2 small">
<h2>fitting the GLM in the ggplot call</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(RIKZ,<span class="fu">aes</span>(NAP,Richness)) <span class="sc">+</span></span>
<span id="cb12-2"><a></a><span class="sc">+</span>   <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb12-3"><a></a><span class="sc">+</span>   <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"glm"</span>, </span>
<span id="cb12-4"><a></a><span class="sc">+</span>     <span class="at">method.args =</span> <span class="fu">list</span>(<span class="at">family =</span> poisson), <span class="at">se =</span> <span class="cn">TRUE</span>)            </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<!-- ## Quasi-Poisson {.small} -->
<!-- ```{r prompt=TRUE,comment='',collapse=TRUE,echo=TRUE} -->
<!-- RIKZ_quasip_1 <- glm(Richness ~ NAP,  -->
<!--                      family = quasipoisson, -->
<!--                      data = RIKZ) -->
<!-- summary(RIKZ_quasip_1) -->
<!-- ``` -->
<!-- ## Full Poisson Model {.small} -->
<!-- ```{r prompt=TRUE,comment='',collapse=TRUE,echo=TRUE} -->
<!-- RIKZ_pois_full <- glm(Richness ~ NAP + factor(week) + -->
<!--                       factor(exposure), -->
<!--                       data = RIKZ, -->
<!--                       family = poisson) -->
<!-- summary(RIKZ_pois_full) -->
<!-- ``` -->
<!-- ## Drop Exposure? {.small} -->
<!-- ```{r prompt=TRUE,comment='',collapse=TRUE,echo=TRUE} -->
<!-- drop1(RIKZ_pois_full, test = "Chisq") -->
<!-- ``` -->
<img data-src="lab-04_files/figure-revealjs/unnamed-chunk-11-1.png" width="960" class="r-stretch"></section>
<section id="lab-exercise-14-rikz-poisson-glms" class="slide level2 small">
<h2>Lab Exercise 1/4: RIKZ Poisson GLMs</h2>
<ol type="1">
<li>Fit a poisson model to RIKZ species richness that includes NAP, and exposure and week as categorical variables (<code>factor</code>).</li>
<li>Extract the model coefficients and their 95% confidence intervals.<br>
</li>
<li>Plot the deviance residuals versus the linear predictor.<br>
</li>
<li>Compare the results of this model with a model for RIKZ species richness that only included NAP as a covariate using deviance and AIC.</li>
<li><strong>BONUS</strong> Show how AIC changes when each linear predictor term is dropped from the model, and show the results of chi-square tests that compare these reduced models to the original model. (<em>hint</em> see the help for <code>?add1</code>).</li>
<li><strong>BONUS BONUS</strong> Fit a model for species richness that also includes salinity, temperature, and grain size, and perform backwards selection using AIC to obtain a ‘best’ model. How do the results compare to the other models? What is the appropriate set of variables to use?</li>
</ol>
<!-- ## Segue: Packages in R {.smaller} -->
<!--   Installing packages:   -->
<!--   `install.packages("packagename")`   -->
<!--   If in doubt, use the source:   -->
<!--   `install.packages("packagename", type="source")`   -->
<!--   Installing packages from github:   -->
<!--   `remotes::install_github("repositoryname")`   -->
<!--   Loading (attaching) packages into the workspace:   -->
<!--   `library(packagename)`   -->
<!--   Some people use `require()` instead of `library()`.   -->
<!--   Don't do this!   -->
<!--   `require()` is basically `try(library())` -->
<!--   Often description of a package and how to use its functions is in the form of a vignette.   -->
<!--   `vignette()` lists available vignettes.   -->
<!--   `vignette(packagename)` views the vignette for `packagename`.   -->
</section>
<section id="dplyrcase_when" class="slide level2">
<h2>dplyr::case_when()</h2>
<p>The <code>case_when()</code> function is like a really friendly if-else statement. When used within <code>mutate()</code>, it allows you to add a new column containing values dependent on your condition(s).</p>

<img data-src="figs/dplyr_case_when_sm.png" class="quarto-figure quarto-figure-center r-stretch" style="width:80.0%"></section>
<section id="dplyrcase_when-1" class="slide level2 smaller">
<h2>dplyr::case_when()</h2>
<p>To <code>penguins</code>, add a new column <code>size_bin</code> that contains:</p>
<ul>
<li>“large” if body mass is greater than 4500 g</li>
<li>“medium” if body mass is greater than 3000 g, and less than or equal to 4500 g</li>
<li>“small” if body mass is less than or equal to 3000 g</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a></a>  <span class="fu">mutate</span>(<span class="at">size_bin =</span> <span class="fu">case_when</span>(</span>
<span id="cb13-3"><a></a>      body_mass_g <span class="sc">&gt;</span> <span class="dv">4500</span> <span class="sc">~</span> <span class="st">"large"</span>,</span>
<span id="cb13-4"><a></a>      body_mass_g <span class="sc">&gt;</span> <span class="dv">3000</span> <span class="sc">&amp;</span> body_mass_g <span class="sc">&lt;=</span> <span class="dv">4500</span> <span class="sc">~</span> <span class="st">"medium"</span>,</span>
<span id="cb13-5"><a></a>      body_mass_g <span class="sc">&lt;=</span> <span class="dv">3000</span> <span class="sc">~</span> <span class="st">"small"</span></span>
<span id="cb13-6"><a></a>    )</span>
<span id="cb13-7"><a></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb13-8"><a></a>  <span class="fu">select</span>(species, island, size_bin, <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 9
   species island    size_bin bill_length_mm bill_depth_mm flipper_length_mm
   &lt;fct&gt;   &lt;fct&gt;     &lt;chr&gt;             &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;
 1 Adelie  Torgersen medium             39.1          18.7               181
 2 Adelie  Torgersen medium             39.5          17.4               186
 3 Adelie  Torgersen medium             40.3          18                 195
 4 Adelie  Torgersen &lt;NA&gt;               NA            NA                  NA
 5 Adelie  Torgersen medium             36.7          19.3               193
 6 Adelie  Torgersen medium             39.3          20.6               190
 7 Adelie  Torgersen medium             38.9          17.8               181
 8 Adelie  Torgersen large              39.2          19.6               195
 9 Adelie  Torgersen medium             34.1          18.1               193
10 Adelie  Torgersen medium             42            20.2               190
# ℹ 334 more rows
# ℹ 3 more variables: body_mass_g &lt;int&gt;, sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section id="dplyrcase_when-2" class="slide level2 smaller">
<h2>dplyr::case_when()</h2>
<p>Starting with <code>penguins</code>:</p>
<ul>
<li><p>Limit the columns to <code>species</code>, <code>year</code>, and <code>flipper_length_mm</code></p></li>
<li><p>Rename the <code>year</code> column to <code>study_year</code></p></li>
<li><p>Only keep observations for Adelie penguins</p></li>
<li><p>Add a new column called <code>flipper_rank</code> that contains:</p>
<ul>
<li>1 if <code>flipper_length_mm</code> is &lt; 200 mm</li>
<li>2 if <code>flipper_length_mm</code> is &gt;= 200 mm</li>
<li>0 if <code>flipper_length_mm</code> is anything else (e.g.&nbsp;<code>NA</code>)</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a></a>  <span class="fu">select</span>(species, year, flipper_length_mm) <span class="sc">|&gt;</span></span>
<span id="cb15-3"><a></a>  <span class="fu">rename</span>(<span class="at">study_year =</span> year) <span class="sc">|&gt;</span></span>
<span id="cb15-4"><a></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Adelie"</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-5"><a></a>  <span class="fu">mutate</span>(<span class="at">flipper_rank =</span> <span class="fu">case_when</span>(</span>
<span id="cb15-6"><a></a>    flipper_length_mm <span class="sc">&lt;</span> <span class="dv">200</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb15-7"><a></a>    flipper_length_mm <span class="sc">&gt;=</span> <span class="dv">200</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb15-8"><a></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> <span class="co"># 0 for anything else</span></span>
<span id="cb15-9"><a></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 152 × 4
   species study_year flipper_length_mm flipper_rank
   &lt;fct&gt;        &lt;int&gt;             &lt;int&gt;        &lt;dbl&gt;
 1 Adelie        2007               181            1
 2 Adelie        2007               186            1
 3 Adelie        2007               195            1
 4 Adelie        2007                NA            0
 5 Adelie        2007               193            1
 6 Adelie        2007               190            1
 7 Adelie        2007               181            1
 8 Adelie        2007               195            1
 9 Adelie        2007               193            1
10 Adelie        2007               190            1
# ℹ 142 more rows</code></pre>
</div>
</div>
</section>
<section id="exercise-24" class="slide level2 small">
<h2>Exercise 2/4</h2>
<p>Add a new column to <code>penguins</code> called <code>study_year</code> that contains:</p>
<ul>
<li>“Year 1” if the year is 2007</li>
<li>“Year 2” if the year is 2008</li>
<li>“Year 3” if the year is 2009</li>
</ul>
<p>Starting with <code>penguins</code>, only keep observations for chinstrap penguins, then only keep the <code>flipper_length_mm</code> and <code>body_mass_g</code> variables. Add a new column called <code>fm_ratio</code> that contains the ratio of flipper length to body mass for each penguin. Next, add another column named <code>ratio_bin</code> which contains the word “high” if <code>fm_ratio</code> is greater than or equal to 0.05, “low” if the ratio is less than 0.05, and “no record” if anything else (e.g.&nbsp;<code>NA</code>).</p>
<!-- ## Programming practices I  {.small}   -->
<!--   Use projects (RStudio)   -->
<!--   Write scripts (or markdown files)   -->
<!--   Include whitespace in code   -->
<!--    - blank lines, spaces in functions   -->
<!--   Use an editor with syntax highlighting   -->
<!--   Use a style guide   -->
<!--   Indent code   -->
<!--   Use meaningful object names   -->
<!-- ## Programming practices II  {.small} -->
<!--   Test code   -->
<!--   - Write smallest possible amount (e.g. 1 line).   -->
<!--   - Knit early and often.   -->
<!--   - Try simple examples that you know the answer to.   -->
<!--   - Always assume that there will be an error somewhere.   -->
<!--   View results / objects   (e.g. with `print()`).   -->
<!--   Plot results - are they what you expect?     -->
<!--   Be careful when copying sections of code and changing a variable name (it's super common to forget to change all occurrences).   -->
<!--   - hint: use your text editor's  "Find: Replace all" functionality.   -->
<!-- ## Commenting {.small} -->
<!--   `R` ignores everything on a line that follows a `#`   -->
<!--   Comment at the top of your script.   -->
<!--   - What the script does, your name, email, date started.   -->
<!--   Comment before each function or section of code  -->
<!--   - What is the purpose of that section of code, what does it do?   -->
<!--   - Comment the 'why' not the 'what' -->
<!--   Comment throughout:     -->
<!--   - whenever an unusual function is used   -->
<!--   - whenever the code is hard to understand   -->
<!--   - whenever an algorithm is particularly useful   -->
<!-- ## Commenting out code  {.small} -->
<!--   When you make modifications to your `R` code:   -->
<!--   - Copy the code that works then comment it out by prefixing it with `#`.   -->
<!--   - Change the new copy of the code.   -->
<!--   If you need to revert to the old code, just remove the `#` before each line (“uncomment”).   -->
<!--   `ctrl+shift+C` (`CMD+shift+C`) is a shortcut in Rstudio to comment/uncomment large blocks of code.   -->
<!--   In `.Rmd` files, you can comment out blocks of the file using -->
<!-- ```{r, eval=FALSE} -->
<!--   <!--- -->
<!--   Lines of text and code you want to not be included -->
<!--   --->
<!-- ``` -->
<!--   (note the block comment shortcut works here too!) -->
</section>
<section class="slide level2">


<img data-src="figs/04_transfoRm/Slide6.png" class="quarto-figure quarto-figure-center r-stretch" style="width:80.0%"></section>
<section class="slide level2">


<img data-src="figs/04_transfoRm/Slide5.png" class="quarto-figure quarto-figure-center r-stretch" style="width:100.0%"></section>
<section class="slide level2">


<img data-src="figs/04_transfoRm/Slide8.png" class="quarto-figure quarto-figure-center r-stretch" style="width:80.0%"></section>
<section>
<section id="pivoting-data" class="title-slide slide level1 center">
<h1>Pivoting data</h1>

</section>
<section id="not-this" class="slide level2">
<h2>Not this…</h2>

<img data-src="img/pivot.gif" style="width:70.0%" class="r-stretch"></section>
<section id="but-this" class="slide level2">
<h2>but this!</h2>

<img data-src="img/tidyr-longer-wider.gif" style="background-color: #FDF6E3;width:45.0%" class="r-stretch"></section>
<section id="wider-vs.-longer" class="slide level2 small">
<h2>Wider vs.&nbsp;longer</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p><strong>wider</strong> more columns</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  customer_id item_1 item_2       item_3
        &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;        &lt;chr&gt; 
1           1 bread  milk         banana
2           2 milk   toilet paper &lt;NA&gt;  </code></pre>
</div>
</div>
</div><div class="column" style="width:40%;">
<p><strong>longer</strong> more rows</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  customer_id item_no item        
        &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;       
1           1 item_1  bread       
2           1 item_2  milk        
3           1 item_3  banana      
4           2 item_1  milk        
5           2 item_2  toilet paper
6           2 item_3  &lt;NA&gt;        </code></pre>
</div>
</div>
</div></div>
<!-- ## `pivot_longer()` -->
<!-- ::: columns -->
<!-- ::: {.column width="50%"} -->
<!-- - `data` (as usual) -->
<!-- ::: -->
<!-- ::: {.column width="50%"} -->
<!-- ```{r eval=FALSE} -->
<!-- pivot_longer( -->
<!--   data, #<< -->
<!--   cols,  -->
<!--   names_to = "name",  -->
<!--   values_to = "value" -->
<!--   ) -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: -->
<!-- ## `pivot_longer()` -->
<!-- .pull-left[ -->
<!-- - `data` (as usual) -->
<!-- - `cols`: columns to pivot into longer format  -->
<!-- ] -->
<!-- .pull-right[ -->
<!-- ```{r eval=FALSE} -->
<!-- pivot_longer( -->
<!--   data,  -->
<!--   cols, #<< -->
<!--   names_to = "name",  -->
<!--   values_to = "value" -->
<!--   ) -->
<!-- ``` -->
<!-- ] -->
<!-- --- -->
</section>
<section id="pivot_longer" class="slide level2 small">
<h2><code>pivot_longer()</code></h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><code>data</code> (as usual)</li>
<li><code>cols</code>: columns to pivot into longer format</li>
<li><code>names_to</code>: name of the column where column names of pivoted variables go (character string)</li>
<li><code>values_to</code>: name of the column where data in pivoted variables go (character string)</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a></a><span class="fu">pivot_longer</span>(</span>
<span id="cb19-2"><a></a>  data, </span>
<span id="cb19-3"><a></a>  cols, </span>
<span id="cb19-4"><a></a>  <span class="at">names_to =</span> <span class="st">"name"</span>, <span class="co">#&lt;&lt;</span></span>
<span id="cb19-5"><a></a>  <span class="at">values_to =</span> <span class="st">"value"</span></span>
<span id="cb19-6"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></div>
<!-- ## `pivot_longer()` -->
<!-- .pull-left[ -->
<!-- - `data` (as usual) -->
<!-- - `cols`: columns to pivot into longer format  -->
<!-- - `names_to`: name of the column where column names of pivoted variables go (character string) -->
<!-- - `values_to`: name of the column where data in pivoted variables go (character string) -->
<!-- ] -->
<!-- .pull-right[ -->
<!-- ```{r eval=FALSE} -->
<!-- pivot_longer( -->
<!--   data,  -->
<!--   cols,  -->
<!--   names_to = "name",  -->
<!--   values_to = "value" #<< -->
<!--   ) -->
<!-- ``` -->
<!-- ] -->
</section>
<section id="customers-rightarrow-purchases" class="slide level2">
<h2>Customers <span class="math inline">\(\rightarrow\)</span> purchases</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a></a>purchases <span class="ot">&lt;-</span> customers <span class="sc">|&gt;</span></span>
<span id="cb20-2"><a></a>  <span class="fu">pivot_longer</span>( <span class="co">#&lt;&lt;</span></span>
<span id="cb20-3"><a></a>    <span class="at">cols =</span> item_1<span class="sc">:</span>item_3,  <span class="co"># variables item_1 to item_3 #&lt;&lt;</span></span>
<span id="cb20-4"><a></a>    <span class="at">names_to =</span> <span class="st">"item_no"</span>,  <span class="co"># column names -&gt; new column called item_no #&lt;&lt;</span></span>
<span id="cb20-5"><a></a>    <span class="at">values_to =</span> <span class="st">"item"</span>     <span class="co"># values in columns -&gt; new column called item #&lt;&lt;</span></span>
<span id="cb20-6"><a></a>    ) <span class="co">#&lt;&lt;</span></span>
<span id="cb20-7"><a></a></span>
<span id="cb20-8"><a></a>purchases</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  customer_id item_no item        
        &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;       
1           1 item_1  bread       
2           1 item_2  milk        
3           1 item_3  banana      
4           2 item_1  milk        
5           2 item_2  toilet paper
6           2 item_3  &lt;NA&gt;        </code></pre>
</div>
</div>
</section>
<section id="purchases-rightarrow-customers" class="slide level2 small">
<h2>Purchases <span class="math inline">\(\rightarrow\)</span> customers</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><code>data</code> (as usual)</li>
<li><code>names_from</code>: which column in the long format contains the what should be column names in the wide format</li>
<li><code>values_from</code>: which column in the long format contains the what should be values in the new columns in the wide format</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a></a>purchases <span class="sc">|&gt;</span></span>
<span id="cb22-2"><a></a>  <span class="fu">pivot_wider</span>( <span class="co">#&lt;&lt;</span></span>
<span id="cb22-3"><a></a>    <span class="at">names_from =</span> item_no, <span class="co">#&lt;&lt;</span></span>
<span id="cb22-4"><a></a>    <span class="at">values_from =</span> item <span class="co">#&lt;&lt;</span></span>
<span id="cb22-5"><a></a>  ) <span class="co">#&lt;&lt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  customer_id item_1 item_2       item_3
        &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;        &lt;chr&gt; 
1           1 bread  milk         banana
2           2 milk   toilet paper &lt;NA&gt;  </code></pre>
</div>
</div>
</div></div>
</section>
<section id="steller-sea-lions" class="slide level2">
<h2>Steller sea lions</h2>
<p>We have data on Steller sea lion pup counts over time at a bunch of rookeries in Alaska.</p>

<img data-src="figs/Slide5.png" style="width:60.0%" class="r-stretch"><p>The number of data points for each rookery is not the same.</p>
<p>We want to investigate the annual trend in counts for each rookery.</p>
<!-- --- -->
<!-- But before we do so...   -->
<!-- **Question:** If the long data will have a row for each year and rookery combination, and there are 58 rookeries and 42 years of data, how many rows will the data have?   -->
<!-- ## `pivot_longer()` -->
<!-- ```{r eval=FALSE} -->
<!-- pivot_longer(data, cols, names_to = "name",  -->
<!--              values_to = "value") -->
<!-- ``` -->
<!-- - The first argument is `data` as usual.   -->
<!-- - The second argument, `cols`, is where you specify which columns to pivot into longer format   -->
<!-- - The third argument, `names_to`, is a string specifying the name of the column to create from the data stored in the column names of data   -->
<!-- - The fourth argument, `values_to`, is a string specifying the name of the column to create from the data stored in cell values   -->
</section>
<section id="lab-exercise-34---sea-lion-pups" class="slide level2">
<h2>Lab exercise 3/4 - Sea lion Pups</h2>
<ul>
<li>Read in the data from <code>SSLpupcounts.csv</code>.</li>
<li>Convert the data from wide format to long format.<br>
</li>
<li>Print the top 10 rows of the new long format data.<br>
</li>
<li><strong>BONUS</strong> Convert back to wide format from long format.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_bfcd12dd" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="we" class="slide level2 large">
<h2>We…</h2>
<p>have multiple data frames</p>
<p>want to bring them together</p>
</section>
<section id="data-women-in-science" class="slide level2 small">
<h2>Data: Women in science</h2>
<p>Information on 10 women in science who changed the world</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Ada Lovelace</td>
</tr>
<tr class="even">
<td style="text-align: left;">Marie Curie</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Janaki Ammal</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chien-Shiung Wu</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Katherine Johnson</td>
</tr>
<tr class="even">
<td style="text-align: left;">Rosalind Franklin</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Vera Rubin</td>
</tr>
<tr class="even">
<td style="text-align: left;">Gladys West</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Flossie Wong-Staal</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jennifer Doudna</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>.footnote[ Source: <a href="https://www.discovermagazine.com/the-sciences/meet-10-women-in-science-who-changed-the-world">Discover Magazine</a>]</p>
</section>
<section id="inputs" class="slide level2">
<h2>Inputs</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">professions</a></li><li><a href="#tabset-1-2">dates</a></li><li><a href="#tabset-1-3">works</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a></a>professions</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 2
   name               profession                        
   &lt;chr&gt;              &lt;chr&gt;                             
 1 Ada Lovelace       Mathematician                     
 2 Marie Curie        Physicist and Chemist             
 3 Janaki Ammal       Botanist                          
 4 Chien-Shiung Wu    Physicist                         
 5 Katherine Johnson  Mathematician                     
 6 Rosalind Franklin  Chemist                           
 7 Vera Rubin         Astronomer                        
 8 Gladys West        Mathematician                     
 9 Flossie Wong-Staal Virologist and Molecular Biologist
10 Jennifer Doudna    Biochemist                        </code></pre>
</div>
</div>
</div>
<div id="tabset-1-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a></a>dates</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 3
  name               birth_year death_year
  &lt;chr&gt;                   &lt;dbl&gt;      &lt;dbl&gt;
1 Janaki Ammal             1897       1984
2 Chien-Shiung Wu          1912       1997
3 Katherine Johnson        1918       2020
4 Rosalind Franklin        1920       1958
5 Vera Rubin               1928       2016
6 Gladys West              1930         NA
7 Flossie Wong-Staal       1947         NA
8 Jennifer Doudna          1964         NA</code></pre>
</div>
</div>
</div>
<div id="tabset-1-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a></a>works</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 2
  name               known_for                                                  
  &lt;chr&gt;              &lt;chr&gt;                                                      
1 Ada Lovelace       first computer algorithm                                   
2 Marie Curie        theory of radioactivity,  discovery of elements polonium a…
3 Janaki Ammal       hybrid species, biodiversity protection                    
4 Chien-Shiung Wu    confim and refine theory of radioactive beta decy, Wu expe…
5 Katherine Johnson  calculations of orbital mechanics critical to sending the …
6 Vera Rubin         existence of dark matter                                   
7 Gladys West        mathematical modeling of the shape of the Earth which serv…
8 Flossie Wong-Staal first scientist to clone HIV and create a map of its genes…
9 Jennifer Doudna    one of the primary developers of CRISPR, a ground-breaking…</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="desired-output" class="slide level2">
<h2>Desired output</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 5
   name               profession                 birth_year death_year known_for
   &lt;chr&gt;              &lt;chr&gt;                           &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;    
 1 Ada Lovelace       Mathematician                      NA         NA first co…
 2 Marie Curie        Physicist and Chemist              NA         NA theory o…
 3 Janaki Ammal       Botanist                         1897       1984 hybrid s…
 4 Chien-Shiung Wu    Physicist                        1912       1997 confim a…
 5 Katherine Johnson  Mathematician                    1918       2020 calculat…
 6 Rosalind Franklin  Chemist                          1920       1958 &lt;NA&gt;     
 7 Vera Rubin         Astronomer                       1928       2016 existenc…
 8 Gladys West        Mathematician                    1930         NA mathemat…
 9 Flossie Wong-Staal Virologist and Molecular …       1947         NA first sc…
10 Jennifer Doudna    Biochemist                       1964         NA one of t…</code></pre>
</div>
</div>
</section>
<section id="inputs-reminder" class="slide level2">
<h2>Inputs, reminder</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a></a><span class="fu">names</span>(professions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "name"       "profession"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a></a><span class="fu">names</span>(dates)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "name"       "birth_year" "death_year"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a></a><span class="fu">names</span>(works)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "name"      "known_for"</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a></a><span class="fu">nrow</span>(professions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a></a><span class="fu">nrow</span>(dates)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a></a><span class="fu">nrow</span>(works)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9</code></pre>
</div>
</div>
</div></div>
</section></section>
<section>
<section id="joining-data-frames" class="title-slide slide level1 center">
<h1>Joining data frames</h1>

</section>
<section id="joining-data-frames-1" class="slide level2">
<h2>Joining data frames</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a></a><span class="fu">something_join</span>(x, y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><code>left_join()</code>: all rows from x</li>
<li><code>right_join()</code>: all rows from y</li>
<li><code>full_join()</code>: all rows from both x and y</li>
<li><code>semi_join()</code>: all rows from x where there are matching values in y, keeping just columns from x</li>
<li><code>inner_join()</code>: all rows from x where there are matching values in y, return all combination of multiple matches in the case of multiple matches</li>
<li><code>anti_join()</code>: return all rows from x where there are not matching values in y, never duplicate rows of x</li>
<li>…</li>
</ul>
</section>
<section id="setup-1" class="slide level2 small">
<h2>Setup</h2>
<p>For the next few slides…</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
     id value_x
  &lt;dbl&gt; &lt;chr&gt;  
1     1 x1     
2     2 x2     
3     3 x3     </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
     id value_y
  &lt;dbl&gt; &lt;chr&gt;  
1     1 y1     
2     2 y2     
3     4 y4     </code></pre>
</div>
</div>
</div></div>
</section>
<section id="left_join" class="slide level2">
<h2><code>left_join()</code></h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="img/left-join.gif" style="background-color: #FDF6E3;width:80.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a></a><span class="fu">left_join</span>(x, y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
     id value_x value_y
  &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  
1     1 x1      y1     
2     2 x2      y2     
3     3 x3      &lt;NA&gt;   </code></pre>
</div>
</div>
</div></div>
</section>
<section id="left_join-1" class="slide level2">
<h2><code>left_join()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a></a>professions <span class="sc">|&gt;</span></span>
<span id="cb50-2"><a></a>  <span class="fu">left_join</span>(dates) <span class="co">#&lt;&lt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 4
   name               profession                         birth_year death_year
   &lt;chr&gt;              &lt;chr&gt;                                   &lt;dbl&gt;      &lt;dbl&gt;
 1 Ada Lovelace       Mathematician                              NA         NA
 2 Marie Curie        Physicist and Chemist                      NA         NA
 3 Janaki Ammal       Botanist                                 1897       1984
 4 Chien-Shiung Wu    Physicist                                1912       1997
 5 Katherine Johnson  Mathematician                            1918       2020
 6 Rosalind Franklin  Chemist                                  1920       1958
 7 Vera Rubin         Astronomer                               1928       2016
 8 Gladys West        Mathematician                            1930         NA
 9 Flossie Wong-Staal Virologist and Molecular Biologist       1947         NA
10 Jennifer Doudna    Biochemist                               1964         NA</code></pre>
</div>
</div>
</section>
<section id="right_join" class="slide level2">
<h2><code>right_join()</code></h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="img/right-join.gif" style="background-color: #FDF6E3;width:80.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a></a><span class="fu">right_join</span>(x, y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
     id value_x value_y
  &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  
1     1 x1      y1     
2     2 x2      y2     
3     4 &lt;NA&gt;    y4     </code></pre>
</div>
</div>
</div></div>
</section>
<section id="right_join-1" class="slide level2">
<h2><code>right_join()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a></a>professions <span class="sc">|&gt;</span></span>
<span id="cb54-2"><a></a>  <span class="fu">right_join</span>(dates) <span class="co">#&lt;&lt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 4
  name               profession                         birth_year death_year
  &lt;chr&gt;              &lt;chr&gt;                                   &lt;dbl&gt;      &lt;dbl&gt;
1 Janaki Ammal       Botanist                                 1897       1984
2 Chien-Shiung Wu    Physicist                                1912       1997
3 Katherine Johnson  Mathematician                            1918       2020
4 Rosalind Franklin  Chemist                                  1920       1958
5 Vera Rubin         Astronomer                               1928       2016
6 Gladys West        Mathematician                            1930         NA
7 Flossie Wong-Staal Virologist and Molecular Biologist       1947         NA
8 Jennifer Doudna    Biochemist                               1964         NA</code></pre>
</div>
</div>
</section>
<section id="full_join" class="slide level2">
<h2><code>full_join()</code></h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="img/full-join.gif" style="background-color: #FDF6E3;width:80.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a></a><span class="fu">full_join</span>(x, y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id value_x value_y
  &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  
1     1 x1      y1     
2     2 x2      y2     
3     3 x3      &lt;NA&gt;   
4     4 &lt;NA&gt;    y4     </code></pre>
</div>
</div>
</div></div>
</section>
<section id="full_join-1" class="slide level2">
<h2><code>full_join()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a></a>dates <span class="sc">|&gt;</span></span>
<span id="cb58-2"><a></a>  <span class="fu">full_join</span>(works) <span class="co">#&lt;&lt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 4
   name               birth_year death_year known_for                           
   &lt;chr&gt;                   &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;                               
 1 Janaki Ammal             1897       1984 hybrid species, biodiversity protec…
 2 Chien-Shiung Wu          1912       1997 confim and refine theory of radioac…
 3 Katherine Johnson        1918       2020 calculations of orbital mechanics c…
 4 Rosalind Franklin        1920       1958 &lt;NA&gt;                                
 5 Vera Rubin               1928       2016 existence of dark matter            
 6 Gladys West              1930         NA mathematical modeling of the shape …
 7 Flossie Wong-Staal       1947         NA first scientist to clone HIV and cr…
 8 Jennifer Doudna          1964         NA one of the primary developers of CR…
 9 Ada Lovelace               NA         NA first computer algorithm            
10 Marie Curie                NA         NA theory of radioactivity,  discovery…</code></pre>
</div>
</div>
</section>
<section id="inner_join" class="slide level2">
<h2><code>inner_join()</code></h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="img/inner-join.gif" style="background-color: #FDF6E3;width:80.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a></a><span class="fu">inner_join</span>(x, y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
     id value_x value_y
  &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  
1     1 x1      y1     
2     2 x2      y2     </code></pre>
</div>
</div>
</div></div>
</section>
<section id="inner_join-1" class="slide level2">
<h2><code>inner_join()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a></a>dates <span class="sc">|&gt;</span></span>
<span id="cb62-2"><a></a>  <span class="fu">inner_join</span>(works) <span class="co">#&lt;&lt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 4
  name               birth_year death_year known_for                            
  &lt;chr&gt;                   &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;                                
1 Janaki Ammal             1897       1984 hybrid species, biodiversity protect…
2 Chien-Shiung Wu          1912       1997 confim and refine theory of radioact…
3 Katherine Johnson        1918       2020 calculations of orbital mechanics cr…
4 Vera Rubin               1928       2016 existence of dark matter             
5 Gladys West              1930         NA mathematical modeling of the shape o…
6 Flossie Wong-Staal       1947         NA first scientist to clone HIV and cre…
7 Jennifer Doudna          1964         NA one of the primary developers of CRI…</code></pre>
</div>
</div>
</section>
<section id="putting-it-altogether" class="slide level2">
<h2>Putting it altogether</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a></a>professions <span class="sc">|&gt;</span></span>
<span id="cb64-2"><a></a>  <span class="fu">left_join</span>(dates) <span class="sc">|&gt;</span></span>
<span id="cb64-3"><a></a>  <span class="fu">left_join</span>(works)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 5
   name               profession                 birth_year death_year known_for
   &lt;chr&gt;              &lt;chr&gt;                           &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;    
 1 Ada Lovelace       Mathematician                      NA         NA first co…
 2 Marie Curie        Physicist and Chemist              NA         NA theory o…
 3 Janaki Ammal       Botanist                         1897       1984 hybrid s…
 4 Chien-Shiung Wu    Physicist                        1912       1997 confim a…
 5 Katherine Johnson  Mathematician                    1918       2020 calculat…
 6 Rosalind Franklin  Chemist                          1920       1958 &lt;NA&gt;     
 7 Vera Rubin         Astronomer                       1928       2016 existenc…
 8 Gladys West        Mathematician                    1930         NA mathemat…
 9 Flossie Wong-Staal Virologist and Molecular …       1947         NA first sc…
10 Jennifer Doudna    Biochemist                       1964         NA one of t…</code></pre>
</div>
</div>
<!-- # .hand[We...] -->
<!-- .huge[.green[have]] .hand[data organised in an unideal way for our analysis] -->
<!-- .huge[.pink[want]] .hand[to reorganise the data to carry on with our analysis] -->
<!-- ## A grammar of data tidying -->
<!-- ::: columns -->
<!-- ::: {.column width="50%"} -->
<!-- ```{r dplyr-part-of-tidyverse, echo=FALSE, out.width="60%", caption = "tidyr is part of the tidyverse"} -->
<!-- include_graphics("img/tidyr-part-of-tidyverse.png") -->
<!-- ``` -->
<!-- ::: columns -->
<!-- ::: {.column width="50%"} -->
<!-- The goal of tidyr is to help you tidy your data via -->
<!-- - pivoting for going between wide and long data -->
<!-- - splitting and combining character columns -->
<!-- - nesting and unnesting columns -->
<!-- - clarifying how `NA`s should be treated -->
<!-- ::: -->
<!-- ::: -->
<!-- --- -->
<!-- ```{r echo=FALSE,out.width="80%",fig.align="center"} -->
<!-- knitr::include_graphics("figs/04_transfoRm/Slide10.png") -->
<!-- ``` -->
<!-- --- -->
<!-- ```{r echo=FALSE,out.width="80%",fig.align="center"} -->
<!-- knitr::include_graphics("figs/04_transfoRm/Slide11.png") -->
<!-- ``` -->
<!-- --- -->
<!-- ```{r echo=FALSE,out.width="80%",fig.align="center"} -->
<!-- knitr::include_graphics("figs/04_transfoRm/Slide12.png") -->
<!-- ``` -->
<!-- ## Look at change in pup counts over time -->
<!-- ::: columns -->
<!-- ::: {.column width="50%"} -->
<!-- ```{r ssl2, warning = FALSE, results = 'hide', comment=FALSE, message=FALSE, fig.show = 'hide'} -->
<!-- ssl_models <- ssl_long |> -->
<!--   group_by(sitename) |> -->
<!--   filter(count > 0, -->
<!--          year >= 2000) |> -->
<!--   mutate(year2 = as.numeric(year)-2000, -->
<!--          log_count = log(count)) |> -->
<!--   nest() |>   #<< -->
<!--   I() -->
<!-- ssl_models -->
<!-- ``` -->
<!-- ::: -->
<!-- -- -->
<!-- ::: {.column width="50%"} -->
<!-- ```{r ref.label= 'ssl2', echo = FALSE, retina = 3, message= FALSE} -->
<!-- ssl_models -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: -->
<!-- `ssl_models` contains a row for each rookery, the `data` variable contains the dataset for each rookery.   -->
<!-- --- -->
<!-- ## Merging data frames    -->
<!--   Often we have many tables of data, and need to merge data frames based on some common information shared between them (relational data).   -->
<!--   e.g. package `nycflights13` includes a dataframe `flights` that contains airline codes, but the full names for the airlines are contained in a separate table `airlines`.     -->
<!-- ```{r prompt=TRUE,comment='',collapse=TRUE,eval=TRUE} -->
<!--    #library(tidyverse) -->
<!--    #library(nycflights13) -->
<!-- ``` -->
<!-- --- -->
<!-- ```{r prompt=TRUE,comment='',collapse=TRUE,eval=TRUE} -->
<!--    flights -->
<!-- ``` -->
<!-- --- -->
<!-- ```{r prompt=TRUE,comment='',collapse=TRUE,eval=TRUE} -->
<!--    airlines -->
<!-- ```    -->
<!-- <!-- --- -->
<p>–&gt;</p>
<!-- <!--   `match(vector1,vector2)`  returns the index vector of values in vector2 that match the values in vector1. e.g.   -->
<!-- <!--   e.g.   -->
<!-- <!-- ```{r prompt=TRUE,comment='',collapse=TRUE,eval=TRUE} -->
<p>–&gt; <!-- <!--   flights$carrier[1:10] --> –&gt; <!-- <!--   airlines$carrier[1:12] --> –&gt; <!-- <!--   x <- match(flights$carrier,airlines$carrier)[1:10] --> –&gt; <!-- <!--   airlines$name[x] --> –&gt; <!-- <!-- ```   --> –&gt;</p>
<!-- ## Merging flights data {.smaller} -->
<!-- ```{r prompt=TRUE,comment='',collapse=TRUE,eval=TRUE} -->
<!-- flights2 <- select(flights,year:day,hour,origin,dest,tailnum,carrier) -->
<!-- newflights <- left_join(flights2, airlines, by = "carrier") -->
<!-- newflights -->
<!-- ``` -->
<!-- ## Aussie Mammal Merge {.smaller} -->
<!-- ```{r prompt=TRUE,comment='',collapse=TRUE,eval=TRUE} -->
<!-- yvec <- 1:4; xvec <- sample(1:4,10,replace = TRUE) -->
<!-- lookup <- tibble(Code=yvec, -->
<!--                  species=c("wombat","devil","wallaby","quoll")) -->
<!-- data <- tibble(code=xvec, -->
<!--                abundance=c(2,4,6,2,1,3,4,7,4,1)) -->
<!-- head(lookup,2) -->
<!-- head(data,2) -->
<!-- newdata <- left_join(data, lookup, by = c("code" = "Code")) -->
<!-- newdata -->
<!-- ``` -->
<!-- ## Locating data using `grep()`  {.small} -->
<!--  `grep()` is one of the most useful functions for unix users.   -->
<!--  It does pattern matching.   -->
<!-- ```{r prompt=TRUE,comment='',collapse=TRUE,eval=TRUE} -->
<!-- pick <- grep("w",newdata$species) -->
<!-- pick -->
<!-- ``` -->
<!-- returns the elements of `newdata$species` containing the letter "w".   -->
<!-- ## Locating data using `grep()` {.small} -->
<!--   `gsub()` is a convenient wrapper to `grep()` that can be used to perform string substitution.   -->
<!--   e.g. capitalize all the 'a's in the species names.   -->
<!-- ```{r prompt=TRUE,comment='',collapse=TRUE,eval=TRUE} -->
<!-- new_names <- gsub("a", newdata$species, replacement="A") -->
<!-- new_names -->
<!-- ``` -->
</section>
<section id="exercise-44-sea-lion-rookery-counts" class="slide level2 smaller">
<h2>Exercise 4/4 Sea lion Rookery Counts</h2>
<ol type="1">
<li><code>SSL_Sites.csv</code> contains the latitude and longitude of sea lion rookeries.<br>
</li>
<li>Use a suitable <code>join</code> function to add the lat/lon information and geographic region to the counts dataset.<br>
</li>
<li>Summarize the average annual pups that were counted between 2000-2015 in the Aleutian Islands (west of longitude 160W), the Gulf of Alaska (east of longitude 160W, west of 140W), and Southeast Alaska (South of latiutude 60 degrees N, but not in the Pacific Northwest).<br>
</li>
<li><strong>BONUS</strong> Look up how to make a map using <code>ggplot()</code> to map the rookery counts in 2015.</li>
</ol>
<!-- ## Recall our grammar of data wrangling... -->
<!-- ... based on the concepts of functions as verbs that manipulate data frames -->
<!-- `{dplyr}` verbs -->
<!-- - `select`: pick columns by name -->
<!-- - `arrange`: reorder rows -->
<!-- - `slice`: pick rows using index(es) -->
<!-- - `filter`: pick rows matching criteria -->
<!-- - `distinct`: filter for unique rows -->
<!-- - `mutate`: add new variables -->
<!-- - `summarise`: reduce variables to values -->
<!-- - `group_by`: for grouped operations -->
<!-- - ... (many more) -->
<!-- ## Rules of **dplyr** functions -->
<!-- - First argument is *always* a data frame -->
<!-- - Subsequent arguments say what to do with that data frame -->
<!-- - Always return a data frame -->
<!-- - Don't modify in place -->
<!-- ## Data: Hotel bookings -->
<!-- - Data from two hotels: one resort and one city hotel -->
<!-- - Observations: Each row represents a hotel booking -->
<!-- - Goal for original data collection: Development of prediction models to classify a hotel booking's likelihood to be cancelled ([Antonia et al., 2019](https://www.sciencedirect.com/science/article/pii/S2352340918315191#bib5)) -->
<!-- ```{r message=FALSE} -->
<!-- hotels <- read_csv("../data/hotels.csv") -->
<!-- ``` -->
<!-- .footnote[ -->
<!-- Source: [TidyTuesday](https://github.com/rfordatascience/tidytuesday/blob/master/data/2020/2020-02-11/readme.md) -->
<!-- ] -->
<!-- ## Select multiple columns -->
<!-- View only the `hotel` type and `lead_time`: -->
<!-- ::: columns -->
<!-- ::: {.column width="50%"} -->
<!-- ```{r} -->
<!-- select(hotels, hotel, lead_time) -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: {.column width="50%"} -->
<!-- {.question} -->
<!-- What if we wanted to select these columns, and then arrange the data in descending order of lead time? -->
<!-- ::: -->
<!-- ::: -->
<!-- ## Data wrangling, step-by-step -->
<!-- ::: columns -->
<!-- ::: {.column width="50%"} -->
<!-- ```{r} -->
<!-- select(hotels, hotel, lead_time) -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: {.column width="50%"} -->
<!-- Select, then arrange: -->
<!-- ```{r} -->
<!-- hotels |> -->
<!--   select(hotel, lead_time) |> -->
<!--   arrange(desc(lead_time)) -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: -->
<!-- # `select`, `arrange`, and `slice` -->
<!-- ## `select` to keep variables -->
<!-- ```{r} -->
<!-- hotels |> -->
<!--   select(hotel, lead_time)  -->
<!-- ``` -->
<!-- ## `select` to exclude variables -->
<!-- ```{r output.lines=18} -->
<!-- hotels |> -->
<!--   select(-agent)  -->
<!-- ``` -->
<!-- ## `select` a range of variables -->
<!-- ```{r} -->
<!-- hotels |> -->
<!--   select(hotel:arrival_date_month) -->
<!-- ``` -->
<!-- ## `select` variables with certain characteristics -->
<!-- ```{r} -->
<!-- hotels |> -->
<!--   select(starts_with("arrival")) -->
<!-- ``` -->
<!-- ## `select` variables with certain characteristics -->
<!-- ```{r} -->
<!-- hotels |> -->
<!--   select(ends_with("type")) -->
<!-- ``` -->
<!-- ## Select helpers -->
<!-- - `starts_with()`: Starts with a prefix -->
<!-- - `ends_with()`: Ends with a suffix -->
<!-- - `contains()`: Contains a literal string -->
<!-- - `num_range()`: Matches a numerical range like x01, x02, x03 -->
<!-- - `one_of()`: Matches variable names in a character vector -->
<!-- - `everything()`: Matches all variables -->
<!-- - `last_col()`: Select last variable, possibly with an offset -->
<!-- - `matches()`: Matches a regular expression (a sequence of symbols/characters expressing a string/pattern to be searched for within text) -->
<!-- ## `arrange` in ascending / descending order -->
<!-- ::: columns -->
<!-- ::: {.column width="50%"} -->
<!-- ```{r} -->
<!-- hotels |> -->
<!--   select(adults, children, babies) |> -->
<!--   arrange(babies) #<< -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: {.column width="50%"} -->
<!-- ```{r} -->
<!-- hotels |> -->
<!--   select(adults, children, babies) |> -->
<!--   arrange(desc(babies)) #<< -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: -->
<!-- ## `slice` for certain row numbers -->
<!-- ```{r output.lines=17} -->
<!-- # first five -->
<!-- hotels |> -->
<!--   slice(1:5) #<< -->
<!-- ``` -->
<!-- ## `filter` to select a subset of rows -->
<!-- ```{r output.lines=17} -->
<!-- # bookings in City Hotels -->
<!-- hotels |> -->
<!--   filter(hotel == "City Hotel") -->
<!-- ``` -->
<!-- --- -->
<!-- ## `filter` for many conditions at once -->
<!-- ```{r} -->
<!-- hotels |> -->
<!--   filter(  -->
<!--     adults == 0,     -->
<!--     children >= 1    -->
<!--     ) |>  -->
<!--   select(adults, babies, children) -->
<!-- ``` -->
<!-- --- -->
<!-- ## `filter` for more complex conditions -->
<!-- ```{r} -->
<!-- # bookings with no adults and some children or babies in the room -->
<!-- hotels |> -->
<!--   filter(  -->
<!--     adults == 0,      -->
<!--     children >= 1 | babies >= 1     # | means or   -->
<!--     ) |> -->
<!--   select(adults, babies, children) -->
<!-- ``` -->
<!-- <!-- ## Logical operators in R -->
<p>–&gt;</p>
<!-- <!-- <br> -->
<p>–&gt;</p>
<!-- <!-- operator    | definition                   || operator     | definition -->
<p>–&gt; <!-- <!-- ------------|------------------------------||--------------|---------------- --> –&gt; <!-- <!-- `<`         | less than                    ||`x`&nbsp;&#124;&nbsp;`y`     | `x` OR `y`  --> –&gt; <!-- <!-- `<=`        | less than or equal to        ||`is.na(x)`    | test if `x` is `NA` --> –&gt; <!-- <!-- `>`         | greater than                 ||`!is.na(x)`   | test if `x` is not `NA` --> –&gt; <!-- <!-- `>=`        | greater than or equal to     ||`x %in% y`    | test if `x` is in `y` --> –&gt; <!-- <!-- `==`        | exactly equal to             ||`!(x %in% y)` | test if `x` is not in `y` --> –&gt; <!-- <!-- `!=`        | not equal to                 ||`!x`          | not `x` --> –&gt; <!-- <!-- `x & y`     | `x` AND `y`                  ||              | --> –&gt;</p>
<!-- <!-- # `distinct` and `count` -->
<p>–&gt;</p>
<!-- <!-- ```{r include=FALSE} -->
<p>–&gt; <!-- <!-- options(dplyr.print_max = 20) --> –&gt; <!-- <!-- ``` --> –&gt;</p>
<!-- ## `distinct` to filter for unique rows {.smaller} -->
<!-- ... and `arrange` to order alphabetically -->
<!-- ::: columns -->
<!-- ::: {.column width="50%"} -->
<!-- ```{r} -->
<!-- hotels |>  -->
<!--   distinct(market_segment) |>  -->
<!--   arrange(market_segment) -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: {.column width="50%"} -->
<!-- ```{r output.lines=13} -->
<!-- hotels |>  -->
<!--   distinct(hotel, market_segment) |> #<< -->
<!--   arrange(hotel, market_segment) -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: -->
<!-- ## `count` to create frequency tables -->
<!-- ::: columns -->
<!-- ::: {.column width="50%"} -->
<!-- ```{r} -->
<!-- # alphabetical order by default -->
<!-- hotels |> -->
<!--   count(market_segment) #<< -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: {.column width="50%"} -->
<!-- .pull-right[ -->
<!-- ```{r} -->
<!-- # descending frequency order -->
<!-- hotels |> -->
<!--   count(market_segment, sort = TRUE) #<< -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: -->
<!-- ## `count` and `arrange` -->
<!-- ::: columns -->
<!-- ::: {.column width="50%"} -->
<!-- ```{r} -->
<!-- # ascending frequency order -->
<!-- hotels |> -->
<!--   count(market_segment) |> -->
<!--   arrange(n) #<< -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: {.column width="50%"} -->
<!-- .pull-right[ -->
<!-- ```{r} -->
<!-- # descending frequency order -->
<!-- # just like adding sort = TRUE -->
<!-- hotels |> -->
<!--   count(market_segment) |> -->
<!--   arrange(desc(n)) #<< -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: -->
<!-- ## `count` for multiple variables -->
<!-- ```{r} -->
<!-- hotels |> -->
<!--   count(hotel, market_segment) #<< -->
<!-- ``` -->
<!-- <!-- ## order matters when you `count` -->
<p>–&gt;</p>
<!-- <!-- ::: columns -->
<p>–&gt; <!-- <!-- ::: {.column width="50%"} --> –&gt; <!-- <!-- ```{r} --> –&gt; <!-- <!-- # hotel type first --> –&gt; <!-- <!-- hotels |> --> –&gt; <!-- <!--   count(hotel, market_segment) #<< --> –&gt; <!-- <!-- ``` --> –&gt; <!-- <!-- ::: --> –&gt; <!-- <!-- ::: {.column width="50%"} --> –&gt; <!-- <!-- ```{r} --> –&gt; <!-- <!-- # market segment first --> –&gt; <!-- <!-- hotels |> --> –&gt; <!-- <!--   count(market_segment, hotel) #<< --> –&gt; <!-- <!-- ``` --> –&gt; <!-- <!-- ::: --> –&gt; <!-- <!-- ::: --> –&gt;</p>
<!-- ## `mutate` to add a new variable -->
<!-- ```{r} -->
<!-- hotels |> -->
<!--   mutate(little_ones = children + babies) |> #<< -->
<!--   select(children, babies, little_ones) |> -->
<!--   arrange(desc(little_ones)) -->
<!-- ``` -->
<!-- --- {.small} -->
<!-- {.question} -->
<!-- What is happening in the following chunk? -->
<!-- ```{r} -->
<!-- hotels |> -->
<!--   mutate(little_ones = children + babies) |> -->
<!--   count(hotel, little_ones) |> -->
<!--   mutate(prop = n / sum(n)) -->
<!-- ``` -->
<!-- ## `summarise` for summary stats -->
<!-- ```{r} -->
<!-- # mean average daily rate for all bookings -->
<!-- hotels |> -->
<!--   summarise(mean_adr = mean(adr)) #<< -->
<!-- ``` -->
<!-- `summarise()` changes the data frame entirely, it collapses rows down to a single  -->
<!-- summary statistic, and removes all columns that are irrelevant to the calculation. -->
<!-- --- -->
<!-- `summarise()` also lets you get away with being sloppy and not naming your new  -->
<!-- column, but that's not recommended! -->
<!-- ::: columns -->
<!-- ::: {.column width="50%"} -->
<!-- ❌ -->
<!-- ```{r} -->
<!-- hotels |> -->
<!--   summarise(mean(adr)) -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: {.column width="50%"} -->
<!-- ✅ -->
<!-- ```{r} -->
<!-- hotels |> -->
<!--   summarise(mean_adr = mean(adr)) -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: -->
<!-- ## `group_by` for grouped operations -->
<!-- ```{r} -->
<!-- # mean average daily rate for all booking at city and resort hotels -->
<!-- hotels |> -->
<!--   group_by(hotel) |> #<< -->
<!--   summarise(mean_adr = mean(adr)) -->
<!-- ``` -->
<!-- ## Calculating frequencies -->
<!-- The following two give the same result, so `count` is simply short for `group_by` then determine frequencies  -->
<!-- ::: columns -->
<!-- ::: {.column width="50%"} -->
<!-- ```{r} -->
<!-- hotels |> -->
<!--   group_by(hotel) |> -->
<!--   summarise(n = n()) -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: {.column width="50%"} -->
<!-- ```{r} -->
<!-- hotels |> -->
<!--   count(hotel) -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: -->
<!-- ## Multiple summary statistics -->
<!-- `summarise` can be used for multiple summary statistics as well -->
<!-- ```{r} -->
<!-- hotels |> -->
<!--   summarise( -->
<!--     min_adr = min(adr), -->
<!--     mean_adr = mean(adr), -->
<!--     median_adr = median(adr), -->
<!--     max_adr = max(adr) -->
<!--     ) -->
<!-- ``` -->
<!-- <!-- #### What's in this tutorial?  -->
<p>–&gt;</p>
<!-- <!-- In this tutorial, you'll learn and practice examples using some functions in `dplyr` to work with data. Those are:  -->
<p>–&gt;</p>
<!-- <!-- - `filter()`: keep rows that satisfy your conditions -->
<p>–&gt; <!-- <!-- - `select()`: keep or exclude some columns --> –&gt; <!-- <!-- - `rename()`: rename columns --> –&gt; <!-- <!-- - `relocate()`: move columns around --> –&gt; <!-- <!-- - `mutate()`: add a new column --> –&gt; <!-- <!-- - `group_by()` + `summarize()`: get summary statistics by group --> –&gt; <!-- <!-- - `across()`: apply a function across columns --> –&gt; <!-- <!-- - `count()`: quickly find counts for different groups --> –&gt; <!-- <!-- - `case_when()`: like friendly if-else --> –&gt;</p>
<!-- ## dplyr::across() -->
<!-- From [tidyverse.org](https://dplyr.tidyverse.org/reference/across.html), `dplyr::across()` "makes it easy to apply the same transformation to multiple columns." -->
<!-- ```{r, echo=FALSE, out.width="100%", fig.align = "center"} -->
<!-- knitr::include_graphics("figs/dplyr_across_where.jpeg") -->
<!-- ``` -->
<!-- The `across()` function is especially useful within `summarize()` to efficiently create summary tables with one or more functions applied to multiple variables (columns). -->
<!-- Create a summary table of mean values for all penguin size measurements ending in "mm" (bill depth, bill length, flipper length), by species. -->
<!-- ## dplyr::across() -->
<!-- As a reminder, here's a sample from the **penguins** data (5 observations / 344 total). -->
<!-- ```{r} -->
<!-- penguins[c(3,31,199,220,304),] |> -->
<!--   kable() |> -->
<!--   kable_styling(full_width=F) -->
<!-- ``` -->
<!-- ## Approach 1: Using `group_by()` |> `summarize()` -->
<!-- ```{r, echo = TRUE, warning = FALSE, message = FALSE, eval = FALSE} -->
<!-- penguins |> -->
<!--   group_by(species) |> -->
<!--   summarize(bill_length_mean = mean(bill_length_mm, na.rm = TRUE), -->
<!--             bill_depth_mean = mean(bill_depth_mm, na.rm = TRUE), -->
<!--             flipper_length_mean = mean(flipper_length_mm, na.rm = TRUE)) -->
<!-- ``` -->
<!-- ## Approach 2: Using `across()` within `summarize()` {.smaller} -->
<!-- ```{r, echo = TRUE, warning = FALSE, message = FALSE} -->
<!-- penguins |> -->
<!--   group_by(species) |> -->
<!--   summarize(across(ends_with("mm"), mean, na.rm = TRUE)) -->
<!-- ``` -->
<!-- The output is the same - but the second way (using `across()`) is much more efficient - and becomes even more useful as the number of columns you want to transform increases! -->
<!-- The `across()` function also happily accepts most helper functions introduced for `select()`, including: `starts_with()`, `ends_with()`, `contains()`, as well as to specify classes (e.g. `is.numeric`, `is.character`, etc.). Follow along with the examples & exercises below to learn more! -->
<!-- ## Lab exercise 3/4 -->
<!-- Starting with `penguins`, use `across()` within `group_by()` and `summarize()` to make a summary table containing the minimum values for bill length and body mass, grouped by penguin species. -->
<!-- ```{r, echo = TRUE, warning = FALSE, message = FALSE} -->
<!-- penguins |> -->
<!--   group_by(species) |> -->
<!--   summarize(across(c(bill_length_mm, body_mass_g), min, na.rm = TRUE)) -->
<!-- ``` -->
<!-- Starting with `penguins`, use `across()` within `group_by()` and `summarize()` to make a summary table containing the maximum value within any column starting with "bill", grouped by `year`. -->
<!-- ```{r, echo = TRUE, warning = FALSE, message = FALSE} -->
<!-- penguins |> -->
<!--   group_by(year) |> -->
<!--   summarize(across(starts_with("bill"), max, na.rm = TRUE)) -->
<!-- ``` -->
<!-- Since what is presented in the table is the *maximum* value for bill length and depth, we probably want to update the column names. We could do that manually using `rename()`, or we can add the `.names = ` argument within `across()` as shown in the examples below. -->
<!-- ## Example 4 -->
<!-- Repeat the example above, but add an argument that will automatically update the column names containing the maximum bill length and depth to start with "max_" followed by the original column name. -->
<!-- ```{r, echo = TRUE, warning = FALSE, message = FALSE} -->
<!-- penguins |> -->
<!--   group_by(year) |> -->
<!--   summarise(across(starts_with("bill"), max, na.rm = TRUE, .names = "max_{.col}")) -->
<!-- ``` -->
<!-- ## `<svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:purple;overflow:visible;position:relative;"><path d="M320 0c17.7 0 32 14.3 32 32V96H472c39.8 0 72 32.2 72 72V440c0 39.8-32.2 72-72 72H168c-39.8 0-72-32.2-72-72V168c0-39.8 32.2-72 72-72H288V32c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H208zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H304zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H400zM264 256a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80zM48 224H64V416H48c-26.5 0-48-21.5-48-48V272c0-26.5 21.5-48 48-48zm544 0c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H576V224h16z"/></svg>`{=html} Example 5 -->
<!-- Starting from `penguins`, create a summary table that finds the mean and standard deviation for all variables containing the string "length", grouped by penguin species. Update the column names to start with "avg_" or "sd_", followed by the original column names. -->
<!-- There's quite a bit happening here, so a little breakdown: -->
<!-- - We use `contains("length")` to indicate we'll apply the functions to any columns with the word "length" in the name -->
<!-- - Within `list()` is where the functions to be applied across columns are given, and where their "names" of "avg" and "stdev" are set -->
<!-- - We use `.names = ` to define the final column names in the summary table. Here, the name should start with the function "name" specified above ("avg" or "stdev"), then an underscore, then the original column name (that's what `"{.fn}_{.col}"` will do) -->
<!-- ```{r, echo = TRUE, warning = FALSE, message = FALSE} -->
<!-- penguins |> -->
<!--   group_by(species) |> -->
<!--   summarize(across(contains("length"), -->
<!--                    list(avg = mean, stdev = sd), -->
<!--                    na.rm = TRUE, -->
<!--                    .names = "{.fn}_{.col}")) -->
<!-- ``` -->

<div class="quarto-auto-generated-content">
<p><img src="../images/logo.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://gavinfay.github.io/mar536-biolstats2-s25">gavinfay.github.io/mar536-biolstats2-s25</a></p>
</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/multiplex/socket.io.js"></script>
  <script src="../site_libs/revealjs/plugin/multiplex/multiplex.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-drop/drop-runtime.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'multiplex': {"secret":null,"id":"eac9dee4d65b2304","url":"https://reveal-multiplex.glitch.me/"},
'drop': {"button":true,"shortcut":"`","engine":"webr","webr":{"packages":[]},"pyodide":{"packages":[]}},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealDrop, QuartoSupport,

          RevealMath,
          
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("https:\/\/gavinfay\.github\.io\/mar536-biolstats2-s25");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>